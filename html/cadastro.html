<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Sistema Alunos - Gama Academy</title>
	<link rel="stylesheet" href="../css/style.css">

</head>
<body>
	<h2>Cadastro de Alunos</h2>
	<form id="form1">
		<label>Entre com a quantidade registros que deseja inserir:</label>
		<input type="number" id="qtd_registros" min="0" onchange="gerar_registros()" onkeyup="gerar_registros()" placeholder="Digite o nÃºmero de registros">
		<input type="submit" onsubmit="gerar_registros()" style="display: none;">
	</form>
	<form id="form2">

	</form>
	<p id="apresenta_registros"></p>
	<script>
		function gerar_registros(){
			event.preventDefault()
			const size = document.getElementById("qtd_registros").value;
			let text = ""
			if(size>0)
			{
				for(let i=0; i<size; i++){
					text += '<div class="input-container"><div><label>Nome do aluno '+(i+1)+':</label>'+
	'<input type="text" placeholder="Digite o Nome" id="nome'+i+'"><br></div>'+
	'<div><label>Idade do aluno '+(i+1)+':</label>'+
	'<input type="number" placeholder="Digite a Idade" min="0" id="idade'+i+'"><br></div></div>'
				}
				text += '<input type="submit" onclick="return gravar()" value="Gravar">'
			}
			document.getElementById("form2").innerHTML = text
		}

		function gravar(){
			event.preventDefault()
			const nomes = []
			const idades = []
			const size = document.getElementById("qtd_registros").value;
			for(let i=0; i<size; i++){
				nomes[i] = document.getElementById("nome"+i).value
				idades[i] = document.getElementById("idade"+i).value

				if(nomes[i] == "")
				{
					alert("Por favor preencha o Nome do aluno "+(i+1))
					document.getElementById("nome"+i).focus()
					return false
				}

				if(idades[i] == "")
				{
					alert("Por favor preencha a Idade do aluno "+(i+1))
					document.getElementById("idade"+i).focus()
					return false
				}
			}
			
			let text = ""
			text += "Quantidade de alunos = "+size+"<br>"
			for(let i=0; i<size; i++){
				text += nomes[i]+", "+idades[i]+"<br>"
			}

			document.getElementById("apresenta_registros").innerHTML = text
			document.getElementById("apresenta_registros").scrollIntoView()
			console.log(nomes)
			console.log(idades)
		}
	</script>
</html>